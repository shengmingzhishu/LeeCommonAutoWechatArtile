# 微信公众号文章排版编辑器

这是一个基于SVG的可视化微信公众号文章排版编辑器，支持多种模板和Markdown渲染功能。

## 功能特性

- 可视化拖拽编辑界面
- 支持多种元素类型（文本、图片、标题、分割线等）
- 预设模板（图片排版、图书介绍、Markdown）
- 模板保存、加载、导入、导出功能
- Markdown格式支持和渲染
- 一键发布到微信公众号
- 支持随机标题与图片排版
- 支持图书介绍模板（5本书的介绍）

## 安装依赖

在使用前，请确保安装了必要的依赖：

```bash
pip install playwright
playwright install chromium
```

## 使用说明

### 方法一：使用启动脚本（推荐）

1. 运行启动脚本：
   ```bash
   ./start.sh
   ```

2. 选择操作：
   - 选择 1 启动可视化编辑器
   - 选择 2 发布文章到微信公众号

### 方法二：手动启动

#### 启动可视化编辑器：

1. 启动HTTP服务器：
   ```bash
   python3 -m http.server 8080
   ```

2. 在浏览器中打开 `http://localhost:8080/final_editor.html`

#### 发布文章到微信公众号：

```bash
python3 wechat_publisher.py
```

## 模板类型

- **图片排版模板**：适合发布图片为主的图文内容
- **图书介绍模板**：适合发布书籍推荐内容（支持5本书的介绍）
- **Markdown模板**：支持Markdown语法的内容排版

## 编辑器功能

1. 从左侧组件面板拖拽组件到编辑区域
2. 选中元素可编辑其属性（位置、大小、颜色等）
3. 使用顶部工具栏保存/加载模板
4. 支持Markdown格式的文本编辑
5. 点击"发布到公众号"按钮发布文章

## 发布流程

1. 在编辑器中完成内容排版
2. 点击"发布到公众号"按钮
3. 在弹出的发布页面填写标题、作者等信息
4. 预览内容后确认发布
5. 或者使用Python脚本直接发布到微信公众号

## 本地存储

编辑器使用浏览器本地存储保存模板，关闭浏览器后数据不会丢失。

## 文件结构

- `final_editor.html` - 主编辑器界面
- `style.css` - 样式文件
- `script.js` - 主要逻辑代码
- `publish.html` - 发布页面
- `wechat_publisher.py` - 微信公众号发布脚本
- `start.sh` - 启动脚本
- `README.md` - 说明文档

## 特殊功能

### 图片类排版
- 支持从本地或网络加载图片
- 可以随机生成标题和图片排版
- 拖拽图片组件到编辑区域

### 图书介绍排版
- 预设5本书的介绍模板
- 每本书包含图片、书名、作者和简介
- 可以批量编辑图书信息

### Markdown支持
- 支持标题、粗体、斜体、列表、引用等格式
- 自动渲染Markdown内容为HTML
- 实时预览Markdown效果